---
description: ClickHouse 笔记
tag: 
  - 数据库
---

# ClickHouse



## OLTP与OLAP

**定义区别**

OLTP（on-line transaction processing）翻译为联机事务处理， OLAP（On-Line Analytical Processing）翻译为联机分析处理，从字面上来看 OLTP 是做事务处理，OLAP 是做分析处理。从对数据库操作来看，OLTP 主要是对数据的增删改，OLAP 是对数据的查询。



**应用区别**

OLTP 主要用来记录某类业务事件的发生，如购买行为，当行为产生后，系统会记录是谁在何时何地做了何事，这样的一行（或多行）数据会以增删改的方式在数据库中进行数据的更新处理操作，要求实时性高、稳定性强、确保数据及时更新成功，像公司常见的业务系统如 ERP，CRM，OA 等系统都属于 OLTP。



当数据积累到一定的程度，我们需要对过去发生的事情做一个总结分析时，就需要把过去一段时间内产生的数据拿出来进行统计分析，从中获取我们想要的信息，为公司做决策提供支持，这时候就是在做 OLAP 了。



因为 OLTP 所产生的业务数据分散在不同的业务系统中，而 OLAP 往往需要将不同的业务数据集中到一起进行统一综合的分析，这时候就需要根据业务分析需求做对应的数据清洗后存储在数据仓库中，然后由数据仓库来统一提供 OLAP 分析。所以我们常说 OLTP 是数据库的应用，OLAP 是数据仓库的应用

|              | OLTP                     | OLAP                |
| ------------ | ------------------------ | ------------------- |
| 业务目的     | 处理业务，如订单、合同等 | 业务支持决策        |
| 面向对象     | 业务处理人员             | 分析决策人员        |
| 主要工作负载 | 增、删、改               | 查                  |
| 主要均衡指标 | 事务吞吐量               | 查询响应速度（QPS） |
| 数据库设计   | 3NF 或 BCNF              | 星型/雪花模型       |

所以 OLAP 和 OLTP 之间的关系可以认为 OLAP 是依赖于 OLTP 的，因为 OLAP 分析的数据都是由 OLTP 所产生的，也可以看作 OLAP 是 OLTP 的一种延展，一个让 OLTP 产生的数据发现价值的过程。